================================================================================
Airtable API 키 Access 설정 가이드
================================================================================

403 에러가 계속 발생하는 경우, API 키의 "Access" 섹션 설정이 문제일 수 있어요.
스코프(권한)만 설정하고 Base 접근 권한을 설정하지 않으면 403 에러가 발생해요.

================================================================================
1. 문제 원인
================================================================================

현재 상황:
✅ 스코프는 모두 설정됨 (data.records:read, data.records:write, schema.bases:read)
❌ Access 섹션에 Base가 추가되지 않음

Airtable의 Personal Access Token은:
1. 스코프(권한) 설정
2. 접근할 수 있는 Base 지정

두 가지를 모두 설정해야 해요!

================================================================================
2. 해결 방법: Access 섹션에 Base 추가하기
================================================================================

2.1. API 키 설정 페이지로 이동
1. Airtable 웹사이트에 로그인하세요
2. 우측 상단 계정 아이콘 클릭 → "Account" 선택
3. "Developer" 섹션으로 이동
4. "Personal access tokens" 섹션에서
5. "daewook" 토큰을 클릭하거나 편집하세요

2.2. Access 섹션에 Base 추가
1. "Access" 섹션을 찾으세요
2. "+ Add a base" 버튼을 클릭하세요
3. 드롭다운 메뉴에서 "AX 역량모델" Base를 선택하세요
4. 또는 "+ Add all resources"를 클릭하여 모든 Base에 접근 권한을 부여할 수 있어요

2.3. 저장
1. Base를 추가한 후
2. 페이지 하단의 "Save" 또는 "Update token" 버튼을 클릭하세요
3. 변경사항이 저장됩니다

================================================================================
3. 추가 확인 사항
================================================================================

3.1. Base ID 확인
현재 config.js에 설정된 Base ID: appFEVpaCY3q4e1y8

확인 방법:
1. Airtable에서 "AX 역량모델" Base를 엽니다
2. 브라우저 주소창을 확인합니다
3. URL이 다음과 같은 형식일 거예요:
   https://airtable.com/appXXXXXXXXXXXXXX/...
4. "app" 뒤의 문자가 Base ID입니다
5. config.js의 Base ID와 일치하는지 확인하세요

3.2. 테이블 이름 확인
1. Airtable에서 "AX 역량모델" Base를 엽니다
2. 테이블 이름이 정확히 "사용자_평가결과"인지 확인하세요
   - 대소문자 정확히 일치
   - 공백과 언더스코어 정확히 일치
   - 예: "사용자_평가결과" (O), "사용자 평가결과" (X)

3.3. Base 소유권 확인
1. Base를 본인이 직접 만들었는지 확인하세요
2. 다른 사람이 만든 Base를 공유받은 경우 쓰기 권한이 없을 수 있어요
3. Base를 직접 만들었다면 소유자 권한이 있어요

================================================================================
4. 단계별 해결 체크리스트
================================================================================

□ 1. API 키 설정 페이지로 이동
□ 2. "daewook" 토큰 편집
□ 3. "Access" 섹션에서 "+ Add a base" 클릭
□ 4. "AX 역량모델" Base 선택
□ 5. "Save" 또는 "Update token" 클릭
□ 6. config.js 파일 저장 확인 (Ctrl + S)
□ 7. 브라우저 완전 새로고침 (Ctrl + Shift + R)
□ 8. 설문을 다시 완료해보기
□ 9. 콘솔에서 에러 메시지 확인

================================================================================
5. 테스트 방법
================================================================================

5.1. 설정 확인
1. API 키 설정 페이지에서 "Access" 섹션 확인
2. "AX 역량모델" Base가 추가되어 있는지 확인
3. config.js 파일이 저장되었는지 확인

5.2. 브라우저 새로고침
1. 브라우저에서 페이지를 완전히 새로고침합니다 (Ctrl + Shift + R)
2. 개발자 도구를 엽니다 (F12)
3. Console 탭을 확인합니다

5.3. 설문 완료
1. 설문을 처음부터 완료합니다
2. 역량 진단도 완료합니다
3. 콘솔에서 다음 메시지를 확인합니다:
   - "💾 설문 결과를 Airtable에 저장합니다..."
   - "✅ 설문 결과 저장 완료!" (성공)
   - 또는 에러 메시지 (실패)

5.4. Airtable 확인
1. Airtable 웹사이트를 엽니다
2. "사용자_평가결과" 테이블을 확인합니다
3. 새 레코드가 추가되었는지 확인합니다

================================================================================
6. 여전히 403 에러가 발생하면
================================================================================

6.1. Base ID 재확인
- 브라우저 주소창에서 Base ID를 다시 확인하세요
- config.js의 Base ID와 정확히 일치하는지 확인하세요

6.2. 테이블 이름 재확인
- Airtable에서 테이블 이름을 다시 확인하세요
- 정확히 "사용자_평가결과"인지 확인하세요

6.3. 새 API 키 발급
- 기존 토큰을 삭제하고 새로 만드세요
- 스코프와 Access를 모두 설정하세요
- 새 토큰을 config.js에 입력하세요

6.4. Base 재생성
- 문제가 계속되면 Base를 새로 만들어보세요
- 테이블 이름을 정확히 "사용자_평가결과"로 설정하세요
- 새 Base ID를 config.js에 입력하세요

================================================================================
7. Access 섹션 스크린샷 설명
================================================================================

현재 화면에서 보이는 것:
- "Access" 섹션
- "+ Add all resources" 링크
- "+ Add a base" 링크
- 현재는 아무 Base도 추가되지 않은 상태

해야 할 일:
1. "+ Add a base" 링크를 클릭하세요
2. 드롭다운에서 "AX 역량모델" Base를 선택하세요
3. Base가 추가되면 저장하세요

================================================================================
문서 끝
================================================================================

